using System;

internal class Program
{
    static void Main(string[] args)
    {
        string[] names = { "ФИО" };
        string[] positions = { "Должность" };
        string actionChoice;
        bool isWork = true;

        while (isWork)
        {
            Console.WriteLine(" Работа с картотекой.\n\n 1 - Просмотр сотрудников.\n\n 2 - Добавить сотрудника.");
            Console.WriteLine("\n 3 - Удалить досье.\n\n 4 - Просмотр досье.\n\n 5 - Закончить работу.\n");
            Console.Write("Выбор действия: ");
            actionChoice = Console.ReadLine();

            switch (actionChoice)
            {
                case "1":
                    OutputWorker(names, positions);
                    break;

                case "2":
                    AddWorker(ref names, ref positions);
                    break;

                case "3":
                    DeleteWorker(ref names, ref positions);
                    break;

                case "4":
                    OutputDossier(names, positions);
                    break;

                case "5":
                    isWork = false;
                    break;

                default:
                    OutputError();
                    break;
            }

            Console.Clear();
        }
    }

    static void AddWorker(ref string[] names, ref string[] positions)
    {
        string[] newArray1 = new string[names.Length + 1];
        string[] newArray2 = new string[positions.Length + 1];

        for (int i = 0; i < newArray1.Length - 1; i++)
        {
            newArray1[i] = names[i];
            newArray2[i] = positions[i];
        }

        AddElement(ref newArray1, " Введите ФИО: ");
        AddElement(ref newArray2, " Введите Должность: ");

        names = newArray1;
        positions = newArray2;
    }
    
    static void DeleteWorker(ref string[] array1, ref string[] array2)
    {
        string[] newArray1 = new string[array1.Length - 1];
        string[] newArray2 = new string[array2.Length - 1];

        Console.Write("\n Введите № п/п: ");
        string deleteNumber = Console.ReadLine();
        bool isCorrectInput = int.TryParse(deleteNumber, out int number);

        if (isCorrectInput && number > 0 && number < array1.Length)
        {

            for (int i = 0; i < newArray1.Length; i++)
            {
                if (i >= number)
                {
                    TransferElement(ref newArray1, ref newArray2, ref array1, ref array2, i, (i+1));
                }

                else
                {
                    TransferElement(ref newArray1, ref newArray2, ref array1, ref array2, i, i);
                }
            }
            array1 = newArray1;
            array2 = newArray2;

            Console.WriteLine("\n Операция закончена");
            Console.ReadKey();
        }

        else
        {
            OutputError();
        }
    }

    static void OutputWorker(string[] array1, string[] array2)
    {
        if (array1.Length > 1)
        {
            for (int i = 0; i < array1.Length; i++)
            {
                if (i == 0)
                {
                    Console.Write($" \n    {array1[i]} - {array2[i]}");
                }

                else
                {
                    Console.Write($" \n{i} - {array1[i]} - {array2[i]}");
                }
            }
            Console.ReadKey();
        }

        else
        {
            OutputError("Картотека пуста", ConsoleColor.Yellow);
        }
    }

    static void OutputDossier(string[] array1, string[] array2)
    {
        bool isFound = false;

        if (array1.Length == 1)
        {
            OutputError("Картотека пуста", ConsoleColor.Yellow);
        }

        else
        {
            Console.Write("Введите Фамилию: ");
            string firstName = Console.ReadLine();

            for (int i = 1; i < array1.Length; i++)
            {
                string[] scroll = array1[i].Split(' ');
                foreach (string word in scroll)
                {
                    if (firstName == word)
                    {
                        Console.WriteLine($" {i} - {array1[i]} - {array2[i]}");
                        Console.ReadKey();
                        isFound = true;
                        break;
                    }
                }
            }
            if (!isFound)
            {
                OutputError();
            }
        }
    }

    static void OutputError(string message = "Не унывай, Бро, у всех дрожат пальцы!", ConsoleColor color = ConsoleColor.Red)
    {
        ConsoleColor defaultColor = Console.ForegroundColor;
        Console.ForegroundColor = color;
        Console.WriteLine(message);
        Console.ForegroundColor = defaultColor;
        Console.ReadKey();
    }

    static void AddElement(ref string[] array, string word)
    {
        Console.WriteLine(word);
        array[array.Length - 1] = Console.ReadLine();
    }

    static void TransferElement(ref string[] in1, ref string[] in2, ref string[] out1, ref string[] out2, int inNumber, int outNumber)
    {
        in1[inNumber] = out1[outNumber];
        in2[inNumber] = out2[outNumber];
    }
}
