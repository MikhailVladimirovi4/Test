using System;

internal class Program
{
    static void Main(string[] args)
    {
        string[] fullNames = { "ФИО" };
        string[] positions = { "Должность" };
        string actionChoice;
        bool isWork = true;

        while (isWork)
        {
            Console.WriteLine(" Работа с картотекой.\n\n 1 - Просмотр сотрудников.\n\n 2 - Добавить сотрудника.");
            Console.WriteLine("\n 3 - Удалить досье.\n\n 4 - Просмотр досье.\n\n 5 - Закончить работу.\n");
            Console.Write("Выбор действия: ");
            actionChoice = Console.ReadLine();

            switch (actionChoice)
            {
                case "1":
                    OutputWorker(fullNames, positions);
                    break;

                case "2":
                    AddWorker(ref fullNames, ref positions);
                    break;

                case "3":
                    DeleteWorker(ref fullNames, ref positions);
                    break;

                case "4":
                    OutputDossier(fullNames, positions);
                    break;

                case "5":
                    isWork = false;
                    break;

                default:
                    OutputError();
                    break;
            }

            Console.Clear();
        }
    }

    static void AddWorker(ref string[] array1, ref string[] array2)
    {
        AddData(ref array1, " Введите ФИО: ");
        AddData(ref array2, " Введите Должность: ");
    }

    static void DeleteWorker(ref string[] array1, ref string[] array2)
    {
        Console.Write("\n Введите № п/п: ");
        string deleteNumber = Console.ReadLine();
        bool isCorrectInput = int.TryParse(deleteNumber, out int number);

        if (isCorrectInput && number > 0 && number < array1.Length)
        {
            DeleteData(ref array1, number);
            DeleteData(ref array2, number);
        }

        else
        {
            OutputError();
        }

        Console.WriteLine("\n Операция закончена");
        Console.ReadKey();
    }

    static void OutputWorker(string[] array1, string[] array2)
    {
        if (array1.Length > 1)
        {
            for (int i = 0; i < array1.Length; i++)
            {
                if (i == 0)
                {
                    Console.Write($" \n    {array1[i]} - {array2[i]}");
                }

                else
                {
                    Console.Write($" \n{i} - {array1[i]} - {array2[i]}");
                }
            }
            Console.ReadKey();
        }

        else
        {
            OutputError("Картотека пуста", ConsoleColor.Yellow);
        }
    }

    static void OutputDossier(string[] array1, string[] array2)
    {
        bool isFound = false;

        if (array1.Length == 1)
        {
            OutputError("Картотека пуста", ConsoleColor.Yellow);
        }

        else
        {
            Console.Write("Введите Фамилию: ");
            string firstName = Console.ReadLine();

            for (int i = 1; i < array1.Length; i++)
            {
                string[] scroll = array1[i].Split(' ');
                foreach (string word in scroll)
                {
                    if (firstName == word)
                    {
                        Console.WriteLine($" {i} - {array1[i]} - {array2[i]}");
                        Console.ReadKey();
                        isFound = true;
                        break;
                    }
                }
            }
            if (!isFound)
            {
                OutputError();
            }
        }
    }

    static void OutputError(string message = "Не унывай, Бро, у всех дрожат пальцы!", ConsoleColor color = ConsoleColor.Red)
    {
        ConsoleColor defaultColor = Console.ForegroundColor;
        Console.ForegroundColor = color;
        Console.WriteLine(message);
        Console.ForegroundColor = defaultColor;
        Console.ReadKey();
    }

    static void AddData(ref string[] array, string text)
    {
        string[] newArray = new string[array.Length + 1];

        for (int i = 0; i < newArray.Length - 1; i++)
        {
            newArray[i] = array[i];
        }

        Console.WriteLine(text);
        newArray[newArray.Length - 1] = Console.ReadLine();

        array = newArray;
    }

    static void DeleteData(ref string[] array, int number)
    {
        string[] newArray = new string[array.Length - 1];

        for (int i = 0; i < newArray.Length; i++)
        {
            if (i >= number)
            {
                newArray[i] = array[i + 1];
            }

            else
            {
                newArray[i] = array[i];
            }
        }
        array = newArray;
    }
}
